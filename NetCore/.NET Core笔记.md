# .NET Core 笔记

## 从CLI开始
CLI（command line interface）

## ASP.NET Core
### 启动 Web App
#### Program.cs
#### Startup.cs

## 依赖注入 Dependency Injection 
IoC(Inversion of Control)容器的职责：  
- 控制系统中所以对象的创建
- 注入正确的依赖
- 管理创建的对象的生命线

有三种方式指定服务的生命周期：  
1. Transient
用作轻量级的服务，不需要保持任何状态，快速实例化，每次需要时都会创建一个类的新实例。  
``` c#
services.AddTransient<IClock,Clock>()
```
2. Scoped
一般是用在那些需要保持状态的服务，这些状态只对当前请求有用，像仓储类和数据访问类。  
作为scoped注册的Services会在请求开始的时候被创建，同一个请求中每次需要这个类的时候都会重用这个实例。  
添加方法：
``` c#
services.AddScoped<IRepository, Repository>()
```
3. Singleton
服务作为单例被注册。服务的实例在第一次需要时被创建，在整个之后的应用程序中都会被重用。这样的Services一般会保存一个应用程序状态，就像内存内缓存或者类似的方式。
``` c#
services.AddSingleton<IApplicationCache, ApplicationCache>().
```
### 使用依赖注入
引入 Nuget包`Microsoft.AspNetCore.Mvc`

## 环境 Environment
每个应用程序都至少要处理至少2个或更多的环境，如开发环境、生产环境，和一些情况下的模拟环境。
